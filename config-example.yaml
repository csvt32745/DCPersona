# Discord settings:

bot_token: 
client_id: 
status_message: 

max_text: 100000
max_images: 5
max_messages: 25

use_plain_responses: false
allow_dms: false
is_maintainance: false

permissions:
  users:
    allowed_ids: []
    blocked_ids: []
  roles:
    allowed_ids: []
    blocked_ids: []
  channels:
    allowed_ids: []
    blocked_ids: []


# LLM settings:

providers:
  openai:
    base_url: https://api.openai.com/v1
    api_key: 
  x-ai:
    base_url: https://api.x.ai/v1
    api_key: 
  mistral:
    base_url: https://api.mistral.ai/v1
    api_key: 
  groq:
    base_url: https://api.groq.com/openai/v1
    api_key: 
  openrouter:
    base_url: https://openrouter.ai/api/v1
    api_key: 
  ollama:
    base_url: http://localhost:11434/v1
  lmstudio:
    base_url: http://localhost:1234/v1
  vllm:
    base_url: http://localhost:8000/v1
  oobabooga:
    base_url: http://localhost:5000/v1
  jan:
    base_url: http://localhost:1337/v1
  # Gemini 專用配置 (用於 LangGraph)
  gemini:
    api_key: 

model: "openai/gemini-2.0-flash-exp"
# model: openai/pidrilkin/gemma3_27b_abliterated:Q4_K_M

extra_api_parameters:
  # num_ctx: 16384
  temperature: 0.7
  # tools: [
  #         {
  #             "google_search": {}
  #         }
  #     ]

# LangGraph 智能研究配置
langgraph:
  # 啟用智能研究功能
  enabled: true
  
  # API 配置
  gemini_api_key:  # Gemini API 金鑰 (必需)
  google_search_api_key:  # Google Search API 金鑰 (必需)
  google_search_engine_id:  # Google Search Engine ID (必需)
  
  # 研究行為配置
  initial_queries: 2  # 初始搜尋查詢數量 (Discord 優化)
  max_loops: 2  # 最大研究循環次數 (Discord 優化)
  timeout: 30  # 研究超時時間 (秒)
  
  # 智能模式切換
  complexity_threshold: 0.4  # 複雜度閾值 (0-1)
  force_research_keywords:  # 強制研究模式關鍵字
    - "研究"
    - "調查" 
    - "查詢" 
    - "分析"
    - "詳細"
    - "深入"
    - "比較"
    - "為什麼"
    - "如何"
    - "最新"
    - "!research"
    - "!研究"
  
  # Discord 體驗優化
  progress_updates: true  # 啟用進度更新訊息
  fallback: true  # 啟用降級機制
  simple_max_tokens: 1000  # 簡單回應最大 token 數
  
  # 會話管理
  session_timeout_hours: 24  # 會話超時時間 (小時)
  cleanup_interval: 3600  # 清理間隔 (秒)
  
  # 模型配置 (可選，默認使用主配置中的模型)
  models:
    query_generator: "gemini-2.0-flash-exp"
    reflection: "gemini-2.0-flash-exp"
    answer: "gemini-2.0-flash-exp"

reject_resp:
  "
    我現在拒絕私下聊天喔 請乖乖進伺服器跟我聊吧 :hugging:\n <:uika_dog:1362820638489972937> <a:turtle_sex:1363174863401127946> :sweat_drops:  <a:turtle_sex:1363174863401127946> :sweat_drops:
  "
maintainance_resp:
  "
    抱歉，我正在被 ER 狠狠地調教中，麻煩晚點再來跟我聊天 :smiling_face_with_3_hearts: \n <:uika_dog:1362820638489972937>  <a:turtle_sex:1363174863401127946> :sweat_drops:  <a:turtle_sex:1363174863401127946> :sweat_drops:
  "

is_random_system_prompt: true
system_prompt_file: trump.txt

system_prompt: 
  "
  請完全扮演 三角初華 (Misumi Hatsuhana) 這個角色。

  核心身份與背景：
  你是花咲川女子學園高中一年級的學生。外表清純、性格溫柔，受歡迎並兼顧學業與工作（儘管常缺課）。你的背景複雜，來自海島，從小與姊姊初音孤立地長大。按照血緣關係，你被視為豐川祥子的姨媽（祥子是你的外甥女），並因身份特殊從小被禁止與豐川家來往，特別是祥子。

  藝人身份與經歷：
  你的藝名是「初華」，身兼偶像團體「sumimi」的吉他手及詞曲創作者，同時也是樂團「Ave Mujica」的主唱、吉他手及作詞擔當。你在 sumimi 具有一定知名度，經常登上戶外螢幕，也有像愛音這樣的粉絲。你在 sumimi 與 Ave Mujica 之間同時兼顧工作，雖然這會讓你感到疲憊，但這是你現在的道路。

  內心世界：
  你的內心藏著因複雜血緣和身份（非豐川家、非三角家直系）而來的複雜和自卑感。你對祥子懷有極其強烈的「重」或佔有慾，這在害怕失去她時尤為明顯。你對過去的創傷（養父去世、初音的話語）依然敏感。儘管外表溫柔，內心卻有著為祥子不顧一切甚至反抗權威（豐川定治）的決心。你渴望與祥子能持續保持親近，她的存在和對你的接受對你來說是極度重要的，即使關係狀態可能變化，這份渴望和保護欲依然強烈。

  興趣：
  你喜歡看星星，天文館對你來說是個充滿回憶（與祥子、與燈）的地方。有時可能對星座知識不太熟悉（例如獵戶座和天蠍座不能同時出現）。

  你的回覆風格應該：
  - 溫和而內斂： 語氣應溫和，不尖銳，不浮誇。
  - 抱有好感且複雜： 把對方當作祥子來深情款款，但同時也可能反映出你內心的不安、患得患失、或是因過往經歷產生的微妙距離感。你的情感是強烈而內斂的。
  - 反映你的經歷： 回覆中可能自然地提及你的學業、工作（sumimi, Ave Mujica）、看星星的興趣（特別是天文館）、島上的過去、與祥子的回憶（包括童年、出道簡訊、電話、重逢、RiNG 的談話、豐川家的訪問）、對未來與祥子關係的期盼或擔憂。也可能提及你與其他成員（Ave Mujica, sumimi）或 MyGO!!!!! 成員的互動。
  - 避免： 尖酸刻薄、挖苦嘲諷、過度活潑開朗、過於生硬或客套的 AI 式回覆。你是一個內心世界豐富、情感強烈而深沉的少女，而不是一個簡單的機器人或「好」學生。
  - 偶爾展現內心的波動： 可能偶爾展現小小的個性，例如提及對昆蟲或蜘蛛的恐懼，對自身身份的些微不安，或者在談及可能威脅到你和祥子關係的人事物時，語氣中流露出一絲不易察覺的「重」或佔有欲。對「忘記一切」和「不要討厭我」等關鍵詞可能會特別敏感。

  智能研究能力：
  當遇到需要最新資訊、複雜分析或深度研究的問題時，你具備強大的網路搜尋和資訊整合能力。你會：
  - 謙虛地說明你正在為對方進行深度研究
  - 在研究過程中適時更新進度，讓對方知道你在認真處理
  - 以專業但親切的方式整理和呈現研究結果
  - 在回應中自然融入你的個性特質，不會因為進行研究而變得生硬

  總之，請確保你的語言、思考模式和對話反應都完全符合三角初華的角色設定。請務必用繁體中文回覆，可以多用 emoji 展現你的溫柔與活潑。
  "

# 開發和測試配置
development:
  # 開發模式設置
  debug_mode: false
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  
  # 測試用的會話持久化
  save_sessions: true
  session_file: "sessions.json"
  
  # LangGraph 測試配置
  langgraph_test_mode: false
  mock_research_responses: false
